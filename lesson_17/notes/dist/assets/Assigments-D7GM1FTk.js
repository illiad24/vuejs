import{j as D,g as B,s as m,o as M,c as T,w as b,r as A,a as l,b as n,d as U,u as r,e as o,F as g,f as p,k as j,l as R,t as a,h as _,m as C}from"./index-b6NcKMkG.js";import{u as $}from"./gifts-DY_6lNwU.js";import{u as q}from"./friends-BcMuoJw5.js";import{u as z}from"./common-Dvh2SwOa.js";const H=D("assigment",()=>({...z("Assigments","Assigment")})),J={key:0},K=["onClick"],O=["value"],P=["value"],Q=["disabled"],te={__name:"Assigments",setup(W){const f=$(),v=q(),d=H(),s=B(null),i=B(null),{getFriends:F}=m(v),{getGifts:V}=m(f),{getAssigments:G,isLoading:I,hasError:L}=m(d);function x(){s.value&&i.value&&(d.addAssigment({friend:s.value,gift:i.value}),s.value=null,i.value=null)}function N(u){d.deleteAssigment(u)}function k(u){return v.getFriendById(u)}function y(u){return f.getGiftById(u)}return M(()=>{d.loadList(),f.loadList(),v.loadList()}),(u,e)=>{const w=A("loading-block"),E=A("main-layout");return l(),T(E,null,{default:b(()=>[e[8]||(e[8]=n("h1",null,"Розподіл подарунків",-1)),n("div",null,[n("div",null,[e[2]||(e[2]=n("div",null,"Список",-1)),U(w,{"is-loading":r(I),"has-error":r(L)},{default:b(()=>[(l(!0),o(g,null,p(r(G),t=>{var c,S;return l(),o("div",{key:t.id},[k(t.friend)&&y(t.gift)?(l(),o("div",J,[R(a((c=k(t.friend))==null?void 0:c.title)+" - "+a((S=y(t.gift))==null?void 0:S.title)+" ",1),n("button",{type:"button",onClick:X=>N(t.id)}," Видалити ",8,K)])):j("",!0)])}),128))]),_:1},8,["is-loading","has-error"])]),e[7]||(e[7]=n("hr",null,null,-1)),n("div",null,[n("div",null,[e[3]||(e[3]=n("div",null,"Друг",-1)),_(n("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t)},[(l(!0),o(g,null,p(r(F),t=>(l(),o("option",{value:t.id,key:t.id},a(t.title),9,O))),128))],512),[[C,s.value]])]),e[5]||(e[5]=n("hr",null,null,-1)),n("div",null,[e[4]||(e[4]=n("div",null,"Подарунок",-1)),_(n("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t)},[(l(!0),o(g,null,p(r(V),t=>(l(),o("option",{value:t.id,key:t.id},a(t.title),9,P))),128))],512),[[C,i.value]])]),e[6]||(e[6]=n("hr",null,null,-1)),n("div",null,[n("button",{onClick:x,disabled:!s.value||!i.value}," Додати ",8,Q)])])])]),_:1})}}};export{te as default};
